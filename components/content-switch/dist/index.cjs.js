"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t,e,n){return(i=r()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,c)}function c(){return i(t,arguments,n(this).constructor)}return c.prototype=Object.create(t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o(c,t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}Object.defineProperty(exports,"__esModule",{value:!0});var u=document.createElement("template");u.innerHTML='\n  <style>\n    .content-switch {\n      position: relative;\n      visibility: hidden;\n    }\n    .content-switch--ready {\n      visibility: visible;\n    }\n  </style>\n  <div class="content-switch"><slot></slot></div>\n';var l=function(i){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(y,c(HTMLElement));var l,h,f,d,p,v=(l=y,h=r(),function(){var t,e=n(l);if(h){var o=n(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return a(this,t)});function y(t){var n,o=t.className,r=void 0===o?"oma-content-switch":o,i=t.classNameActive,c=void 0===i?"oma-content-switch--active":i,a=t.animationClass,l=void 0===a?"oma-content-switch__no-animation":a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),e(s(n=v.call(this)),"slot",(function(){return n.shadowRoot.querySelector("slot")})),e(s(n),"setComponentHeight",(function(){var t=n.children().reduce((function(t,e){return Math.max(e.offsetHeight,t)}),0);n.shadowRoot.querySelector(".content-switch").style="min-height: ".concat(t,"px")})),n._className=r,n._classNameActive=c,n._animationClass=l,n._currentContentIndex=0,n.attachShadow({mode:"open"}),n.shadowRoot.appendChild(u.content.cloneNode(!0)),n}return f=y,(d=[{key:"setInitialClasses",value:function(){var t=this,e=this.children();e.forEach((function(e){e.classList.add(t._className)})),e[this._currentContentIndex].classList.add(this._classNameActive),setTimeout((function(){e.forEach((function(e){e.classList.add(t._animationClass)})),t.shadowRoot.querySelector(".content-switch").classList.add("content-switch--ready")}))}},{key:"children",value:function(){var t=this.shadowRoot.querySelector("slot").assignedNodes().filter((function(t){return"#text"!==t.nodeName}));return t}},{key:"connectedCallback",value:function(){var t=this;this.setInitialClasses(),this.observer=new ResizeObserver(this.setComponentHeight),this.children().forEach((function(e){return t.observer.observe(e)})),this.setComponentHeight(),this._switchInterval||(this._switchInterval=setInterval(this.switchContent.bind(this),5e3))}},{key:"disconnectedCallback",value:function(){this._switchInterval||clearInterval(this._switchInterval),this.observer.disconnect()}},{key:"switchContent",value:function(){this.children()[this._currentContentIndex].classList.toggle(this._classNameActive),this._currentContentIndex+=1,this._currentContentIndex>=this.children().length&&(this._currentContentIndex=0),this.children()[this._currentContentIndex].classList.toggle(this._classNameActive)}}])&&t(f.prototype,d),p&&t(f,p),y}();exports.ContentSwitch=l;
