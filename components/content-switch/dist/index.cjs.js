"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t,e,n){return(i=o()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&r(i,n.prototype),i}).apply(null,arguments)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(o=t,-1===Function.toString.call(o).indexOf("[native code]")))return t;var o;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,c)}function c(){return i(t,arguments,n(this).constructor)}return c.prototype=Object.create(t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r(c,t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}Object.defineProperty(exports,"__esModule",{value:!0});var a=document.createElement("template");a.innerHTML='\n  <style>\n    .content-switch {\n      position: relative;\n      visibility: hidden;\n    }\n    .content-switch--ready {\n      visibility: visible;\n    }\n  </style>\n  <div class="content-switch"><slot></slot></div>\n';var u=function(i){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(m,c(HTMLElement));var u,f,d,h,v,p=(u=m,f=o(),function(){var t,e=n(u);if(f){var r=n(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return l(this,t)});function m(t){var n,r=t.className,o=void 0===r?"oma-content-switch":r,i=t.classNameActive,c=void 0===i?"oma-content-switch--active":i,l=t.animationClass,u=void 0===l?"oma-content-switch__no-animation":l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),e(s(n=p.call(this)),"setInitialClasses",(function(){var t=n.children();t.forEach((function(t){t.classList.add(n._className)})),t[n._currentContentIndex].classList.add(n._classNameActive),setTimeout((function(){t.forEach((function(t){t.classList.add(n._animationClass)})),n._rootElement.classList.add("content-switch--ready")}))})),e(s(n),"children",(function(){return n._slot.assignedNodes().filter((function(t){return"#text"!==t.nodeName}))})),e(s(n),"setComponentHeight",(function(){var t=n.children().reduce((function(t,e){return Math.max(e.offsetHeight,t)}),0);n._rootElement.style="min-height: ".concat(t,"px")})),e(s(n),"increaseContentIndex",(function(){n._currentContentIndex+=1,n._currentContentIndex>=n.children().length&&(n._currentContentIndex=0)})),e(s(n),"setContentSwitchInterval",(function(){n._switchInterval||(n._switchInterval=setInterval(n.switchContent.bind(s(n)),n._millisecondsPerSlide))})),e(s(n),"clearContentSwitchInterval",(function(){n._switchInterval&&(clearInterval(n._switchInterval),n._switchInterval=null)})),e(s(n),"switchContent",(function(){var t=n.children();t[n._currentContentIndex].classList.remove(n._classNameActive),n.increaseContentIndex(),t[n._currentContentIndex].classList.add(n._classNameActive)})),n._className=o,n._classNameActive=c,n._animationClass=u,n._currentContentIndex=0,n._millisecondsPerSlide=n.getAttribute("milliseconds-per-slide"),n.attachShadow({mode:"open"}),n.shadowRoot.appendChild(a.content.cloneNode(!0)),n._rootElement=n.shadowRoot.querySelector(".content-switch"),n._slot=n.shadowRoot.querySelector("slot"),n}return d=m,v=[{key:"observedAttributes",get:function(){return["milliseconds-per-slide"]}}],(h=[{key:"millisecondsPerSlide",get:function(){return this._millisecondsPerSlide},set:function(t){this.setAttribute("milliseconds-per-slide",t)}},{key:"connectedCallback",value:function(){var t=this;this.setInitialClasses(),this.observer=new ResizeObserver(this.setComponentHeight),this.children().forEach((function(e){return t.observer.observe(e)})),this.setContentSwitchInterval(),this.setComponentHeight()}},{key:"disconnectedCallback",value:function(){this.clearContentSwitchInterval(),this.observer.disconnect()}},{key:"attributeChangedCallback",value:function(t,e,n){switch(console.log("attributeChangedCallback",t,e,n),t){case"milliseconds-per-slide":this._millisecondsPerSlide=n,this.clearContentSwitchInterval(),this.setContentSwitchInterval()}}}])&&t(d.prototype,h),v&&t(d,v),m}();exports.ContentSwitch=u;
