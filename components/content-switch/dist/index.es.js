function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return(o=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o}).apply(null,arguments)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,c)}function c(){return o(t,arguments,n(this).constructor)}return c.prototype=Object.create(t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r(c,t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}var a=document.createElement("template");a.innerHTML='\n  <style>\n    .content-switch {\n      position: relative;\n      visibility: hidden;\n    }\n    .content-switch--ready {\n      visibility: visible;\n    }\n  </style>\n  <div class="content-switch"><slot></slot></div>\n';var u=function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(y,c(HTMLElement));var u,d,f,h,p,v=(u=y,d=i(),function(){var t,e=n(u);if(d){var r=n(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return l(this,t)});function y(t){var n,r=t.childrenClassName,i=t.activeChildClass,o=t.childrenActivateAnimationClassName;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),e(s(n=v.call(this)),"setInitialClasses",(function(){var t=n.children();t.forEach((function(t){t.classList.add(n._childrenClassName)})),t[n._currentContentIndex].classList.add(n._activeChildClass),setTimeout((function(){t.forEach((function(t){t.classList.add(n._childrenActivateAnimationClassName)})),n._rootElement.classList.add("content-switch--ready")}))})),e(s(n),"children",(function(){return n._slot.assignedNodes().filter((function(t){return"#text"!==t.nodeName}))})),e(s(n),"setComponentHeight",(function(){var t=n.children().reduce((function(t,e){return Math.max(e.offsetHeight,t)}),0);n._rootElement.style="min-height: ".concat(t,"px")})),e(s(n),"increaseContentIndex",(function(){return n._currentContentIndex=(n._currentContentIndex+1)%n.children().length})),e(s(n),"setContentSwitchInterval",(function(){n._switchInterval||(n._switchInterval=setInterval(n.switchContent.bind(s(n)),n._millisecondsPerSlide))})),e(s(n),"clearContentSwitchInterval",(function(){n._switchInterval&&(clearInterval(n._switchInterval),n._switchInterval=null)})),e(s(n),"switchContent",(function(){var t=n.children();t[n._currentContentIndex].classList.remove(n._activeChildClass),n.increaseContentIndex(),t[n._currentContentIndex].classList.add(n._activeChildClass)})),n._childrenClassName=r,n._activeChildClass=i,n._childrenActivateAnimationClassName=o,n._currentContentIndex=0,n._millisecondsPerSlide=n.getAttribute("milliseconds-per-slide"),n.attachShadow({mode:"open"}),n.shadowRoot.appendChild(a.content.cloneNode(!0)),n._rootElement=n.shadowRoot.querySelector(".content-switch"),n._slot=n.shadowRoot.querySelector("slot"),n}return f=y,p=[{key:"observedAttributes",get:function(){return["milliseconds-per-slide"]}}],(h=[{key:"millisecondsPerSlide",get:function(){return this._millisecondsPerSlide},set:function(t){this.setAttribute("milliseconds-per-slide",t)}},{key:"connectedCallback",value:function(){this.setInitialClasses(),this.observer=new ResizeObserver(this.setComponentHeight),this.observer.observe(this._rootElement),this.setContentSwitchInterval(),this.setComponentHeight()}},{key:"disconnectedCallback",value:function(){this.clearContentSwitchInterval(),this.observer.disconnect()}},{key:"attributeChangedCallback",value:function(t,e,n){"milliseconds-per-slide"==t&&(this._millisecondsPerSlide=n,this.clearContentSwitchInterval(),this.setContentSwitchInterval())}}])&&t(f.prototype,h),p&&t(f,p),y}();export{u as ContentSwitch};
